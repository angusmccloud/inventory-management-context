# PR Review Caller Workflow Template
# =====================================
# Copy this file to your Backend or Frontend repository as:
#   .github/workflows/pr-review.yml
#
# This is the ONLY file needed - all rules come from the Context repository.
#
# Instructions:
# 1. Copy this file to your repository's .github/workflows/ directory
# 2. Replace ORG_NAME with your GitHub organization name
# 3. Set repository-type to 'backend' or 'frontend' as appropriate
# 4. Commit and push
#
# Architecture Reference: 
#   inventory-management-context/.specify/memory/multi-repo-pr-review-architecture.md

name: PR Review

on:
  pull_request:
    types: [opened, synchronize, reopened]
    branches:
      - main
      - develop

jobs:
  review:
    # Replace ORG_NAME with your GitHub organization name
    uses: ORG_NAME/inventory-management-context/.github/workflows/copilot-pr-review.yml@main
    with:
      # Options: context, backend, frontend
      repository-type: backend
      # Set to true when GitHub Copilot code review action becomes available
      copilot-enabled: false
    permissions:
      contents: read
      pull-requests: write
      checks: write